<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // 중첩함수
        // 함수 안에 있는 함수는 호이스팅 되지 않고 함수 안에서만 사용할 수 있다. 
        function f() {
            let value = 123;
            // 안에 있는 값에 접근하기 위해서 지역함수의 function에만 접근할 수 있음 
            // 이 변수를 사용하기 위한 명령어를 정리하기 위해서는 
            // 중첩함수를 통해서 값을 받아와 출력
            function g() {
                alert(value) 
            }
            g(); // f()함수 안에서 호출
        }
        //중첩함수를 실행하기 위해 감싸고 있는 함수 호출 
        f();


        // 중첩 함수 실습
        function add(a,b){
            let sum =a+b;
            function printNum() {
                document.write(sum)
            }
            printNum();
        }

        add(5,6);


        // 클로저 함수 
        // 중첩함수의 하나로 외부 변수에 접근하는 함수 
        
        function count(){
            let count = 0;
            return function() { // 클로저 함수 
                return count += 1
            }
        }
        // 외부로 호출하기 위한 함수
        // count() 함수 한번 호출
        // 매개변수가 들어갈 수 있게 괄호를 붙여서 전달하게 된다면 
        // count가 1씩 증가하게 되는 내용
        let startCount = count();
        
        // 클로저함수가 없는 함수 
        function noCount() {
            let count =0;
            return count +=1; 
        } 

        // 입력받은 숫자값을 더해주는 클로저 함수
         function sumClosures() {
            let sum =0;// 변수 초기화
            return function(num) {
                return sum+=num
            }
         }

         // sumCloseures 함수 실행 > return 에 넣어준 클로저 함수 startSum에 할당 
         let startSum = sumClosures();
         document.write(`<p>${startSum(3)}</p>`) //3 
         document.write(`<p>${startSum(5)}</p>`) // 5       

         // 클로저 함수를 이용해 
         // 넣은 값을 계속해서 곱하는 함수를 만드세요 
         // multiClosuers() /startMulti
         // 클로저함수를 화살표함수로 작성 
         
         function multiClosuers() {
            let multi = 1; // 곱해야 하기 때문에 1로 초기화
            return num => {
                return multi *= num
            }
        }

        let startMulti = multiClosuers();
        document.write(`<p>${startMulti(3)}</p>`) // 3
        document.write(`<p>${startMulti(3)}</p>`) // 9 



    </script>
</body>
</html>